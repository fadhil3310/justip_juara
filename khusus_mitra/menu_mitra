import csv
import semua.login.log as login
import khusus_mitra.job as job


data_akun = login.authenticate()

def status_pesanan(data_akun):
    with open('send.csv', mode='r') as file:
        reader = csv.reader(file)
        for row in reader:
    # Periksa apakah indeks ke-8 adalah "dipesan"
            if len(row) > 8 and row[6].lower() == data_akun['username']:
                print("-" * 30)
                print(f"Jenis barang: {row[0]}")
                print(f"Nama barang: {row[1]}")
                print(f"Jumlah: {row[2]}")
                print(f"Harga total: {row[3]}")
                print(f"Tip: {row[4]}")
                print(f"Lokasi: {row[5]}")
                print(f"Status: {row[8]}")                    
                print("-" * 30)
                


print(f"mitra, {data_akun['name']}.")
print("1. Daftar pesanan")
print("2. Status pesanan")
print("3. Riwayat pengiriman")
dial = int(input("Masukkan angka: "))

if dial == 1:
    print("Akun 'pelanggan' terdeteksi. Menjalankan katalog...")
    # Menjalankan katalog.py dengan mengirimkan data akun sebagai argumen
    job.main(data_akun)

if dial == 2:
    status_pesanan(data_akun)
    
  